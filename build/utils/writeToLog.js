"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeToLog=void 0;const _1=require("."),index_1=require("../constants/index"),db_1=require("../db"),writeToLog=async e=>{if(e.LOG){e.LOG.result=e.LOG.result||e.body,e.LOG.code=e.LOG.code||e.status,e.LOG.url=e.LOG.url||e.url,e.LOG.method=e.LOG.method||e.method,e.LOG.user_id=e.LOG.user_id||(0,_1.getUserId)(e).toString();try{await db_1.db.table(index_1._DBDATAS.Logs_request.table).insert(e.LOG)}catch(t){console.log(e.LOG),console.log(t)}}};exports.writeToLog=writeToLog;