"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resultBody=void 0;const json2csv_1=require("json2csv"),_1=require("."),constants_1=require("../constants"),convertToCsv=e=>{const s={delimiter:";",includeEmptyRows:!0,escapedQuote:""};if(e)try{const t=new json2csv_1.Parser(s);return t.parse(e)}catch(e){if(e instanceof Error)return(0,_1.message)("ERROR",e.message),e.message}return"No datas"},resultBody=(e,s)=>{switch(e.formatResult){case constants_1.formatsResult.CSV:return convertToCsv(s);case constants_1.formatsResult.TXT:default:return s}};exports.resultBody=resultBody;